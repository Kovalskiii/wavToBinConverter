<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Basics</title><link href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap" rel="stylesheet"><style>*{box-sizing:border-box}html{font-family:Roboto,open-sans}body{margin:0}header{background:#023d6d;color:#fff;box-shadow:0 2px 8px rgba(0,0,0,.26);width:100%;height:100%}#converter,header{padding:1rem;text-align:center}#converter{margin:5rem auto;width:40rem;max-width:90%;border-radius:10px;color:#023d6d}#converter input{font:inherit;font-size:1.5rem;width:28rem;padding:.45rem;margin:2rem auto;display:block;color:#023d6d;text-align:center}#converter input:focus{outline:none}#btn-actions{text-align:center}#converter button{font:inherit;font-size:30px;background:#4caf50;color:#fff;border:2px solid #023d6d;padding:.5rem;margin:30px;cursor:pointer;border-radius:4px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}#converter button:focus{outline:none}#converter button:active,#converter button:hover{background:#1f7d23;border-color:#023d6d}#file-list{overflow:auto;height:350px;box-sizing:border-box;border:2px solid #023d6d}</style></head><body> <header> <h1>Wave to Bin converter</h1> </header> <div> <section id="converter"> <input type="file" accept="audio/*" id="input-files" multiple> <div id="file-list"></div> <div id="btn-actions"> <button type="button" id="btn-convert">Convert</button> </div> <a hidden download="lancy_mem_flash.bin" id="result">Result</a> </section> </div> <div id="output" style="font-family:Courier New,monospace"></div> <script>!function(){const t=document.getElementById("input-files"),e=document.getElementById("btn-convert"),r=document.getElementById("file-list");t.onchange=e=>{console.log(e),r.innerHTML=[...t.files].map((t=>`<div> ${t.name}</div>`)).join("\n")};const n=t=>{const{rawData:e,filename:r}=t,n=function(t){let e=t.charAt(0)+t.charAt(1)+t.charAt(2)+t.charAt(3);const r=t.charAt(8)+t.charAt(9)+t.charAt(10)+t.charAt(11);let n=t.charAt(12)+t.charAt(13)+t.charAt(14)+t.charAt(15);if("RIFF"!=e||"WAVE"!=r||"fmt "!=n)return void console.error("Wrong type of file!");let o=t.charCodeAt(7).toString(16)+t.charCodeAt(6).toString(16)+t.charCodeAt(5).toString(16)+t.charCodeAt(4).toString(16);const a=parseInt(o,16);let c=t.charCodeAt(19).toString(16)+t.charCodeAt(18).toString(16)+t.charCodeAt(17).toString(16)+t.charCodeAt(16).toString(16);const i=parseInt(c,16);let h=t.charCodeAt(21).toString(16)+t.charCodeAt(20).toString(16);const s=parseInt(h,16);let l=t.charCodeAt(23).toString(16)+t.charCodeAt(22).toString(16);const d=parseInt(l,16);let A=t.charCodeAt(27).toString(16)+t.charCodeAt(26).toString(16)+t.charCodeAt(25).toString(16)+t.charCodeAt(24).toString(16);const g=parseInt(A,16);let S=t.charCodeAt(31).toString(16)+t.charCodeAt(30).toString(16)+t.charCodeAt(29).toString(16)+t.charCodeAt(28).toString(16);const C=parseInt(S,16);let u=t.charCodeAt(33).toString(16)+t.charCodeAt(32).toString(16);const m=parseInt(u,16);let f=t.charCodeAt(35).toString(16)+t.charCodeAt(34).toString(16);const p=parseInt(f,16),I=t.charAt(36)+t.charAt(37)+t.charAt(38)+t.charAt(39);let b=t.charCodeAt(43).toString(16)+t.charCodeAt(42).toString(16)+t.charCodeAt(41).toString(16)+t.charCodeAt(40).toString(16);return{chunkID:e,chunkSize:a,format:r,subChunk1ID:n,subChunk1Size:i,audioFormat:s,numChannels:d,sampleRate:g,byteRate:C,blockAlign:m,bitsPerSample:p,subChunk2ID:I,subChunk2Size:parseInt(b,16)}}(e);return console.log(n),n?{...t,isValid:!0}:(console.error({header:n,filename:r}),{...t,isValid:!1,errorMessage:`Parsing error happened in ${r}`})};function o(t){return new Promise(((e,r)=>{let o=new FileReader;o.readAsBinaryString(t),o.onload=()=>{let r=o.result;const a=function(t){return Array.from(t,((e,r)=>t.charCodeAt(r).toString(16).padStart(2,"0"))).join(" ")}(r);e(n({rawData:r,hexData:a,filename:t.name}))},o.onerror=()=>r(o.error)}))}e.addEventListener("click",(async function(){if(0===t.files.length)return void alert("No files chosen!");const e=[...t.files].map(o),r=await Promise.all(e),n=r.filter((t=>!t.isValid));if(0!==n.length)return alert(n.map((t=>t.errorMessage)).join("\n")),void console.error({anyErrors:n});const a=r.map((t=>t.hexData)).join("\n\n\n\n"),c=URL.createObjectURL(new Blob([a],{type:"text/plain;charset=utf-8"})),i=document.getElementById("result");i.setAttribute("href",c),i.click()}))}();</script> </body></html>